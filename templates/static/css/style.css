:root {
    --primary-color: #4f46e5;
    --primary-hover: #4338ca;
    --background-color: #f3f4f6;
    --card-bg: #ffffff;
    --text-main: #1f2937;
    --text-secondary: #6b7280;
    --accent-green: #10b981;
    --font-family: 'Outfit', sans-serif;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: var(--font-family);
    background-color: var(--background-color);
    color: var(--text-main);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
}

.container {
    width: 100%;
    max-width: 1200px;
    /* Increased from 600px */
    margin: 0 auto;
}

header {
    text-align: center;
    margin-bottom: 40px;
}

header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-main);
    margin-bottom: 10px;
}

header p {
    color: var(--text-secondary);
    font-size: 1.1rem;
}

main {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    /* Initial centered layout */
    position: relative;
    /* Pseudo-element spacers */
}

main::before,
main::after {
    content: '';
    flex: 1;
    transition: flex 0.5s ease;
}

/* Desktop Layout */
@media (min-width: 768px) {
    main {
        width: 100%;
        /* Flex layout will handle children */
    }

    .input-section {
        flex: 0 0 40%;
        transition: transform 0.5s ease, flex 0.5s ease;
    }

    .result-section {
        flex: 0 0 60%;
        opacity: 0;
        transform: translateY(100%);
        transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .results-active main::before,
    .results-active main::after {
        flex: 0;
    }

    .results-active .input-section {
        flex: 0 0 40%;
        transform: translateX(-20%);
    }

    .results-active .result-section {
        opacity: 1;
        transform: translateY(0);
    }
}

.card {
    background: var(--card-bg);
    border-radius: 16px;
    padding: 30px;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}

.input-section {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.input-group {
    display: flex;
    flex-direction: column;
}

.input-group label {
    font-weight: 600;
    margin-bottom: 8px;
    color: var(--text-main);
}

.input-group input {
    padding: 12px 16px;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    font-size: 1rem;
    font-family: var(--font-family);
    transition: border-color 0.2s;
}

.input-group input:focus {
    outline: none;
    border-color: var(--primary-color);
}

/* Error message styling */
.error-message {
    color: #e53e3e;
    /* red */
    font-size: 0.9rem;
    margin-top: 4px;
    display: none;
}

.input-group.invalid .error-message {
    display: block;
}

.input-group.invalid input {
    border-color: #e53e3e;
}

button {
    background-color: var(--primary-color);
    color: white;
    border: none;
    padding: 14px;
    border-radius: 8px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.1s;
    margin-top: 10px;
}

button:hover {
    background-color: var(--primary-hover);
}

button:active {
    transform: scale(0.98);
}

.result-section {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease, transform 0.5s ease;
    /* Ensure it takes up space even when hidden to maintain grid layout structure if needed, 
       but here we want it to be hidden until calculated. 
       However, with grid, if it's display: none, the input section might stretch or stay. 
       Let's keep the hidden class behavior but ensure smooth transition. */
}

.result-section.visible {
    opacity: 1;
    transform: translateY(0);
}

.result-section.hidden {
    display: none;
}

.result-section h2 {
    margin-bottom: 20px;
    font-size: 1.5rem;
    color: var(--text-main);
}

.result-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    /* Responsive grid for results */
    gap: 20px;
    margin-bottom: 20px;
}

.result-item {
    background: #f9fafb;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
}

.result-item .label {
    display: block;
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: 5px;
}

.result-item .value {
    display: block;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-main);
}

.result-item .value.highlight {
    color: var(--accent-green);
    font-size: 2rem;
}

.summary {
    text-align: center;
    color: var(--text-secondary);
    font-size: 1rem;
    line-height: 1.5;
}

@media (max-width: 480px) {
    header h1 {
        font-size: 2rem;
    }

    /* On very small screens, stack everything */
    main {
        grid-template-columns: 1fr;
    }
}

.chart-container {
    position: relative;
    margin-top: 30px;
    height: 400px;
    /* Increased height for better visibility on desktop */
    width: 100%;
}
